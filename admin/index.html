<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Brikks - Espace Administration">
    <title>Administration - Brikks</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<div class="layout">
    <!-- ===== SIDEBAR ===== -->
    <aside class="admin-sidebar" id="admin-sidebar">
        <div class="admin-logo">
            <h1>
                <span>ğŸ“š</span>
                Brikks
                <span class="badge">Admin</span>
            </h1>
        </div>

        <nav>
            <!-- PRINCIPAL -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">ğŸ“Œ Principal</div>
                <a href="#" class="sidebar-link active">
                    <span class="icon">ğŸ </span>
                    Page d'accueil
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“¬</span>
                    Messagerie
                    <span class="badge">3</span>
                </a>
            </div>

            <!-- RESSOURCES -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">ğŸ“š Ressources</div>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“–</span>
                    LeÃ§ons
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ§ </span>
                    MÃ©thodologie
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ¬</span>
                    VidÃ©os
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ’¡</span>
                    Recommandations
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">â“</span>
                    FAQ
                </a>
            </div>

            <!-- EXERCICES -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">ğŸ¯ Exercices</div>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“</span>
                    Banque de formats
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ§©</span>
                    Banque d'Ã©lÃ©ments
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“</span>
                    EntraÃ®nements
                </a>
            </div>

            <!-- Ã‰VALUATIONS -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">ğŸ“Š Ã‰valuations</div>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“‹</span>
                    Ã‰valuations
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸŸ£</span>
                    CompÃ©tences
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ“Š</span>
                    Notes & Suivi
                </a>
            </div>

            <!-- CONFIGURATION -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">âš™ï¸ Configuration</div>
                <a href="#" class="sidebar-link">
                    <span class="icon">ğŸ‘¥</span>
                    Utilisateurs
                </a>
                <a href="#" class="sidebar-link">
                    <span class="icon">âš™ï¸</span>
                    ParamÃ¨tres
                </a>
            </div>
        </nav>
    </aside>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="main-content" id="main-content">
        <!-- TOP BAR -->
        <header class="top-bar">
            <div class="top-bar-left">
                <button class="toggle-sidebar-btn" onclick="toggleSidebar()" title="Afficher/Masquer le menu">
                    â˜°
                </button>
                <div class="top-bar-breadcrumb">
                    <a href="#">Admin</a>
                    <span class="separator">/</span>
                    <span>Page d'accueil</span>
                </div>
            </div>
            <div class="top-bar-right">
                <button class="top-bar-btn" title="Voir le site Ã©lÃ¨ve">
                    ğŸ‘ï¸
                </button>
                <button class="top-bar-btn" title="Notifications">
                    ğŸ””
                    <span class="notif-dot"></span>
                </button>
                <div class="top-bar-user" onclick="toggleUserMenu()">
                    <div class="top-bar-user-avatar" id="user-avatar">--</div>
                    <div class="top-bar-user-info">
                        <div class="top-bar-user-name" id="user-name">Chargement...</div>
                        <div class="top-bar-user-role" id="user-role">Professeur</div>
                    </div>
                    <!-- Dropdown menu -->
                    <div class="user-dropdown" id="user-dropdown">
                        <button class="user-dropdown-item danger" onclick="Auth.logout()">
                            <span>ğŸšª</span>
                            DÃ©connexion
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- PAGE CONTENT -->
        <div class="page-content">
            <div class="placeholder-content">
                <div class="icon">ğŸ </div>
                <h2>Page d'accueil</h2>
                <p>Contenu de la page d'accueil (dashboard avec statistiques, raccourcis, etc.)</p>
            </div>
        </div>
    </main>
</div>

<!-- Scripts -->
<script src="../js/config.js"></script>
<script src="../js/sheets.js"></script>
<script src="../js/auth.js"></script>
<script src="../js/app.js"></script>
<script src="../components/components.js"></script>

<script>
    // Toggle sidebar
    function toggleSidebar() {
        const sidebar = document.getElementById('admin-sidebar');
        const mainContent = document.getElementById('main-content');
        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('expanded');
    }

    // Toggle user menu
    function toggleUserMenu() {
        const dropdown = document.getElementById('user-dropdown');
        dropdown.classList.toggle('show');
    }

    // Fermer le menu si on clique ailleurs
    document.addEventListener('click', function(e) {
        const userMenu = document.querySelector('.top-bar-user');
        const dropdown = document.getElementById('user-dropdown');
        if (userMenu && dropdown && !userMenu.contains(e.target)) {
            dropdown.classList.remove('show');
        }
    });

    // VÃ©rifier l'accÃ¨s et afficher les infos utilisateur
    document.addEventListener('DOMContentLoaded', function() {
        const user = Auth.checkAccess(['prof', 'admin', 'professeur']);

        if (user) {
            // Initiales
            const prenom = (user.prenom || '').trim();
            const nom = (user.nom || '').trim();
            const initials = (prenom && nom)
                ? (prenom[0] + nom[0]).toUpperCase()
                : (user.identifiant || 'A')[0].toUpperCase();

            document.getElementById('user-avatar').textContent = initials;

            // Nom complet
            const displayName = (prenom && nom)
                ? `${prenom} ${nom}`
                : user.identifiant;
            document.getElementById('user-name').textContent = displayName;

            // RÃ´le
            document.getElementById('user-role').textContent = 'Professeur';
        }
    });
</script>

</body>
</html>
